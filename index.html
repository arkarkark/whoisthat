<html ng-app="who" ng-controller="WhoCtrl as whoCtrl">
<head>
  <title>{{whoCtrl.pageTitle}}</title>
  <script src="third_party/_.js"></script>
  <script src="third_party/angular.min.js"></script>
  <script src="third_party/mousetrap.min.js"></script>
  <script src="third_party/hotkeys.js"></script>
  <script src="config.js"></script>
  <script src="who.js"></script>
  <link rel="stylesheet" type="text/css" href="css.css">
  <link rel="shortcut icon" href="img/favicon.ico" type="image/vnd.microsoft.icon" />
</head>
<body>
  <h1 ng-bind-html="whoCtrl.pageHeader"></h1>

  <div ng-hide="whoCtrl.done">
    <div class="score">Score: {{whoCtrl.score}}</div>

    <div class="headshot-container">
      <img ng-src="{{whoCtrl.peep.img}}" onprogress="console.log('loading')">
    </div>
    <div class="guess-option" ng-click="whoCtrl.guess(option)"
         ng-repeat="option in whoCtrl.peep.choices"
         ng-class="{correct: whoCtrl.guessed && option == whoCtrl.peep,
                    incorrect: whoCtrl.guessed == option && option != whoCtrl.peep}">
      <span class="check"
            ng-class="{none: option != whoCtrl.guessed,
                       yes:  option == whoCtrl.guessed && whoCtrl.correct === true,
                       no: option == whoCtrl.guessed && whoCtrl.correct === false}"
            ><img src="third_party/red-32259.svg"></span>
      {{$index + 1}}. {{option.name}} - {{option.dept}}
    </div>
  </div>
  <div ng-show="whoCtrl.done">
    <p>Game over!</p>

    <p>Your score was {{whoCtrl.score}} out of {{whoCtrl.peeps.length}}.</p>

    <button ng-click="whoCtrl.reset()">Try again</button>
  </div>
</body>
